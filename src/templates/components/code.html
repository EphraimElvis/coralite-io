<template id="coralite-code">
  <div class="code">
    <div class="code-toolbar">
      <span class="code-language">{{ type }}</span>
      <button popovertarget="{{ popovertarget }}" type="button" class="button button-icon" onclick="navigator.clipboard.writeText(this.parentElement.parentElement.children[1].children[0].textContent)">
        Copy to clipboard
      </button>
      <div id="{{ popovertarget }}" popover>Code copied!</div>
    </div>
    <div class="code-body">
      <code><slot></slot></code>
    </div>
  </div>
</template>

<script type="module">
  import { defineComponent } from 'coralite'

  export default defineComponent({
    tokens: {
      popovertarget () {
        return 'copy-' + Math.random().toString(16).substring(2)
      }
    }
  })
</script>